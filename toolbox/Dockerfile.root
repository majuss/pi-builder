FROM debian

#RUN mkdir -p /etc/pacman.d/hooks \
#	&& ln -s /dev/null /etc/pacman.d/hooks/30-systemd-tmpfiles.hook

# RUN pacman --noconfirm --ask=4 -Syy \
# 	&& pacman --needed --noconfirm --ask=4 -S \
# 		glibc \
# 		openssl \
# 		openssl-1.1 \
# 	&& pacman --needed --noconfirm --ask=4 -S \
# 		pacman \
# 	&& pacman-db-upgrade \
# 	&& pacman-key --init \
# 	&& pacman --needed --noconfirm --ask=4 -S \
# 		p11-kit \
# 		archlinux-keyring \
# 		ca-certificates \
# 		ca-certificates-mozilla \
# 		ca-certificates-utils \
# 	&& pacman --noconfirm --ask=4 -Syu \
# 	&& pacman --needed --noconfirm --ask=4 -S \
# 		arp-scan \
# 		python \
# 		parted \
# 		dosfstools \
# 		rsync \
# 	&& rm -rf /var/cache/pacman/pkg/*

RUN apt update \
	&& apt install -y htop python3 locales parted rsync dosfstools arp-scan openssl udev
RUN locale-gen

RUN mkdir /tools

COPY install-binfmt /tools/
COPY docker-extract /tools/
COPY disk /tools/
